<!-- My Jobs Fragment -->
<div th:fragment="my-jobs">
  <!-- Header avec barre de recherche et filtres -->
  <div class="card mb-4">
    <div class="card-body">
      <div class="row g-3">
        <div class="col-md-4">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Rechercher une offre...">
            <button class="btn btn-outline-secondary" type="button">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
        <div class="col-md-8">
          <div class="d-flex gap-2 justify-content-md-end">
            <select class="form-select" style="max-width: 150px;">
              <option value="">Statut</option>
              <option value="ACTIVE">Actives</option>
              <option value="DRAFT">Brouillons</option>
              <option value="EXPIRED">Expirées</option>
              <option value="CLOSED">Fermées</option>
            </select>
            <select class="form-select" style="max-width: 150px;">
              <option value="">Date</option>
              <option value="NEWEST">Plus récentes</option>
              <option value="OLDEST">Plus anciennes</option>
            </select>
            <select class="form-select" style="max-width: 150px;">
              <option value="">Applications</option>
              <option value="MOST">Plus de candidatures</option>
              <option value="LEAST">Moins de candidatures</option>
            </select>
            <button class="btn btn-outline-secondary">
              <i class="fas fa-sliders-h"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Stats et bouton d'ajout -->
  <div class="row mb-4 align-items-center">
    <div class="col-md-6">
      <div class="job-stats d-flex">
        <div class="job-stat-item me-4">
          <span class="job-stat-number">5</span>
          <span class="job-stat-label">Actives</span>
        </div>
        <div class="job-stat-item me-4">
          <span class="job-stat-number">2</span>
          <span class="job-stat-label">Brouillons</span>
        </div>
        <div class="job-stat-item me-4">
          <span class="job-stat-number">3</span>
          <span class="job-stat-label">Expirées</span>
        </div>
        <div class="job-stat-item">
          <span class="job-stat-number">1</span>
          <span class="job-stat-label">Fermées</span>
        </div>
      </div>
    </div>
    <div class="col-md-6 text-md-end mt-3 mt-md-0">
      <a th:href="@{/recruteurs/post-job}" class="btn btn-primary">
        <i class="fas fa-plus-circle me-2"></i>Publier une nouvelle offre
      </a>
    </div>
  </div>

  <!-- Tableau des offres d'emploi -->
  <div class="card">
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table job-listing-table m-0">
          <thead>
          <tr>
            <th>Titre</th>
            <th>Statut</th>
            <th>Candidatures</th>
            <th>Date de publication</th>
            <th>Vues</th>
            <th>Actions</th>
          </tr>
          </thead>
          <tbody>
          <!-- Job 1 - Active -->
          <tr>
            <td>
              <div class="job-title-cell">
                <h6 class="mb-1">Développeur Frontend</h6>
                <div class="job-meta text-muted small">
                  <span><i class="fas fa-map-marker-alt me-1"></i>Casablanca</span>
                  <span class="mx-2">|</span>
                  <span><i class="fas fa-briefcase me-1"></i>Temps plein</span>
                </div>
              </div>
            </td>
            <td>
              <span class="badge bg-success">Active</span>
            </td>
            <td>
              <strong>8</strong>
              <div class="progress" style="height: 4px; width: 80px;">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 80%"></div>
              </div>
              <span class="text-muted small">8/10 consultées</span>
            </td>
            <td>
              <div>12 avril 2025</div>
              <span class="text-muted small">Expire le 12 mai 2025</span>
            </td>
            <td>
              <div class="d-flex align-items-center">
                <strong>124</strong>
                <span class="ms-2 text-success small"><i class="fas fa-arrow-up"></i> 12%</span>
              </div>
            </td>
            <td>
              <div class="dropdown">
                <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                  Actions
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><a class="dropdown-item" th:href="@{/recruteurs/job-details}"><i class="fas fa-eye me-2"></i>Voir les détails</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-edit me-2"></i>Modifier</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-copy me-2"></i>Dupliquer</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-pause-circle me-2"></i>Suspendre</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item text-danger" href="#"><i class="fas fa-trash-alt me-2"></i>Supprimer</a></li>
                </ul>
              </div>
            </td>
          </tr>

          <!-- Job 2 - Active -->
          <tr>
            <td>
              <div class="job-title-cell">
                <h6 class="mb-1">Chef de Projet</h6>
                <div class="job-meta text-muted small">
                  <span><i class="fas fa-map-marker-alt me-1"></i>Rabat</span>
                  <span class="mx-2">|</span>
                  <span><i class="fas fa-briefcase me-1"></i>Temps plein</span>
                </div>
              </div>
            </td>
            <td>
              <span class="badge bg-success">Active</span>
            </td>
            <td>
              <strong>5</strong>
              <div class="progress" style="height: 4px; width: 80px;">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 50%"></div>
              </div>
              <span class="text-muted small">5/10 consultées</span>
            </td>
            <td>
              <div>10 avril 2025</div>
              <span class="text-muted small">Expire le 10 mai 2025</span>
            </td>
            <td>
              <div class="d-flex align-items-center">
                <strong>98</strong>
                <span class="ms-2 text-success small"><i class="fas fa-arrow-up"></i> 8%</span>
              </div>
            </td>
            <td>
              <div class="dropdown">
                <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                  Actions
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><a class="dropdown-item" th:href="@{/recruteurs/job-details}"><i class="fas fa-eye me-2"></i>Voir les détails</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-edit me-2"></i>Modifier</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-copy me-2"></i>Dupliquer</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-pause-circle me-2"></i>Suspendre</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item text-danger" href="#"><i class="fas fa-trash-alt me-2"></i>Supprimer</a></li>
                </ul>
              </div>
            </td>
          </tr>

          <!-- Job 3 - Active -->
          <tr>
            <td>
              <div class="job-title-cell">
                <h6 class="mb-1">UX Designer</h6>
                <div class="job-meta text-muted small">
                  <span><i class="fas fa-map-marker-alt me-1"></i>Marrakech</span>
                  <span class="mx-2">|</span>
                  <span><i class="fas fa-briefcase me-1"></i>Temps plein</span>
                </div>
              </div>
            </td>
            <td>
              <span class="badge bg-success">Active</span>
            </td>
            <td>
              <strong>3</strong>
              <div class="progress" style="height: 4px; width: 80px;">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 30%"></div>
              </div>
              <span class="text-muted small">3/10 consultées</span>
            </td>
            <td>
              <div>8 avril 2025</div>
              <span class="text-muted small">Expire le 8 mai 2025</span>
            </td>
            <td>
              <div class="d-flex align-items-center">
                <strong>76</strong>
                <span class="ms-2 text-success small"><i class="fas fa-arrow-up"></i> 5%</span>
              </div>
            </td>
            <td>
              <div class="dropdown">
                <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                  Actions
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><a class="dropdown-item" th:href="@{/recruteurs/job-details}"><i class="fas fa-eye me-2"></i>Voir les détails</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-edit me-2"></i>Modifier</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-copy me-2"></i>Dupliquer</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-pause-circle me-2"></i>Suspendre</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item text-danger" href="#"><i class="fas fa-trash-alt me-2"></i>Supprimer</a></li>
                </ul>
              </div>
            </td>
          </tr>

          <!-- Job 4 - Draft -->
          <tr class="table-light">
            <td>
              <div class="job-title-cell">
                <h6 class="mb-1">Développeur Backend</h6>
                <div class="job-meta text-muted small">
                  <span><i class="fas fa-map-marker-alt me-1"></i>Tanger</span>
                  <span class="mx-2">|</span>
                  <span><i class="fas fa-briefcase me-1"></i>Temps plein</span>
                </div>
              </div>
            </td>
            <td>
              <span class="badge bg-secondary">Brouillon</span>
            </td>
            <td>
              <strong>-</strong>
            </td>
            <td>
              <div>Non publié</div>
              <span class="text-muted small">Modifié le 15 avril 2025</span>
            </td>
            <td>
              <strong>-</strong>
            </td>
            <td>
              <div class="dropdown">
                <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                  Actions
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><a class="dropdown-item" href="#"><i class="fas fa-edit me-2"></i>Modifier</a></li>
                  <li><a class="dropdown-item text-success" href="#"><i class="fas fa-paper-plane me-2"></i>Publier</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-copy me-2"></i>Dupliquer</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item text-danger" href="#"><i class="fas fa-trash-alt me-2"></i>Supprimer</a></li>
                </ul>
              </div>
            </td>
          </tr>

          <!-- Job 5 - Expired -->
          <tr class="table-light">
            <td>
              <div class="job-title-cell">
                <h6 class="mb-1">Analyste Marketing</h6>
                <div class="job-meta text-muted small">
                  <span><i class="fas fa-map-marker-alt me-1"></i>Casablanca</span>
                  <span class="mx-2">|</span>
                  <span><i class="fas fa-briefcase me-1"></i>Temps plein</span>
                </div>
              </div>
            </td>
            <td>
              <span class="badge bg-danger">Expirée</span>
            </td>
            <td>
              <strong>12</strong>
              <div class="progress" style="height: 4px; width: 80px;">
                <div class="progress-bar bg-success" role="progressbar" style="width: 100%"></div>
              </div>
              <span class="text-muted small">12/10 consultées</span>
            </td>
            <td>
              <div>1 mars 2025</div>
              <span class="text-muted small">Expirée le 1 avril 2025</span>
            </td>
            <td>
              <div class="d-flex align-items-center">
                <strong>195</strong>
              </div>
            </td>
            <td>
              <div class="dropdown">
                <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                  Actions
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><a class="dropdown-item" th:href="@{/recruteurs/job-details}"><i class="fas fa-eye me-2"></i>Voir les détails</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-redo me-2"></i>Republier</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-copy me-2"></i>Dupliquer</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item text-danger" href="#"><i class="fas fa-archive me-2"></i>Archiver</a></li>
                </ul>
              </div>
            </td>
          </tr>

          <!-- Job 6 - Closed -->
          <tr class="table-light">
            <td>
              <div class="job-title-cell">
                <h6 class="mb-1">Responsable Comptabilité</h6>
                <div class="job-meta text-muted small">
                  <span><i class="fas fa-map-marker-alt me-1"></i>Casablanca</span>
                  <span class="mx-2">|</span>
                  <span><i class="fas fa-briefcase me-1"></i>Temps plein</span>
                </div>
              </div>
            </td>
            <td>
              <span class="badge bg-dark">Fermée</span>
            </td>
            <td>
              <strong>15</strong>
              <div class="progress" style="height: 4px; width: 80px;">
                <div class="progress-bar bg-success" role="progressbar" style="width: 100%"></div>
              </div>
              <span class="text-muted small">15/10 consultées</span>
            </td>
            <td>
              <div>15 février 2025</div>
              <span class="text-muted small">Fermée le 10 mars 2025</span>
            </td>
            <td>
              <div class="d-flex align-items-center">
                <strong>230</strong>
              </div>
            </td>
            <td>
              <div class="dropdown">
                <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                  Actions
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><a class="dropdown-item" th:href="@{/recruteurs/job-details}"><i class="fas fa-eye me-2"></i>Voir les détails</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-redo me-2"></i>Republier</a></li>
                  <li><a class="dropdown-item" href="#"><i class="fas fa-copy me-2"></i>Dupliquer</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item text-danger" href="#"><i class="fas fa-archive me-2"></i>Archiver</a></li>
                </ul>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Pagination -->
  <div class="d-flex justify-content-between align-items-center mt-4">
    <div class="text-muted small">
      Affichage de 1-6 sur 11 offres
    </div>
    <nav aria-label="Page navigation">
      <ul class="pagination mb-0">
        <li class="page-item disabled">
          <a class="page-link" href="#" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        <li class="page-item active"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item">
          <a class="page-link" href="#" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>

  <style>
    /* Styles spécifiques pour la page mes offres */
    .job-stat-item {
      text-align: center;
    }

    .job-stat-number {
      display: block;
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text-dark);
    }

    .job-stat-label {
      display: block;
      font-size: 0.85rem;
      color: var(--text-gray);
    }

    .job-listing-table th {
      font-weight: 600;
      color: var(--text-dark);
      padding: 1rem;
    }

    .job-listing-table td {
      padding: 1rem;
      vertical-align: middle;
    }

    .job-listing-table tr {
      border-left: 3px solid transparent;
    }

    .job-listing-table tr:hover {
      background-color: rgba(0, 0, 0, 0.02);
      border-left: 3px solid var(--primary-color);
    }

    .job-meta span {
      font-size: 0.8rem;
    }
  </style>
</div>